<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Animal Chooser</title>
  <style>
    :root{--accent-pink:#ff5a8f; --bg-beige:#fbf7f5}
    body{font-family:system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial;margin:0;background:var(--bg-beige);color:#222}

    /* Top navbar similar to app */
    .navbar{display:flex;align-items:center;justify-content:space-between;padding:0.9rem 1.2rem;background-color:rgba(131,93,199,0.14);backdrop-filter:blur(6px);border-bottom:1px solid rgba(0,0,0,0.04)}
    .nav-left .brand{display:inline-flex;align-items:center;gap:0.6rem}
    .nav-brand-logo{height:56px;width:auto;display:block}
    .nav-center{display:flex;align-items:center;gap:0.6rem}
    .btn{padding:0.55rem 0.85rem;border-radius:6px;border:1px solid transparent;cursor:pointer;font-weight:600;background:transparent}
    .btn.primary{background:var(--accent-pink);color:#fff;border-color:var(--accent-pink)}
    .btn.ghost{background:transparent;color:var(--accent-pink);border:1px solid rgba(0,0,0,0.04)}

    /* Christmas lights across top */
    .christmas-lights{position:fixed;left:0;right:0;top:6px;height:48px;pointer-events:none;display:flex;justify-content:center;align-items:center;z-index:200}
    .lights-string{width:100%;max-width:1100px;display:flex;justify-content:space-between;padding:0 12px}
    .light{width:12px;height:12px;border-radius:50%;display:inline-block;box-shadow:0 0 8px rgba(0,0,0,0.12);transform-origin:center;opacity:0.95;animation:twinkle 1.6s ease-in-out infinite}
    .light.red{background:#ff4d4d;box-shadow:0 0 10px rgba(255,77,77,0.9)}
    .light.green{background:#4cd964;box-shadow:0 0 10px rgba(76,217,100,0.9)}
    .light.yellow{background:#ffd54f;box-shadow:0 0 10px rgba(255,213,79,0.9)}
    .light.blue{background:#5aa9ff;box-shadow:0 0 10px rgba(90,169,255,0.9)}
    .light.purple{background:#c57bff;box-shadow:0 0 10px rgba(197,123,255,0.9)}
    .light.orange{background:#ff9a4d;box-shadow:0 0 10px rgba(255,154,77,0.9)}
    .light.teal{background:#4dd0e1;box-shadow:0 0 10px rgba(77,208,225,0.9)}
    @keyframes twinkle{0%,100%{transform:scale(1);opacity:0.85}40%{transform:scale(1.25);opacity:1}}

    .container{max-width:980px;margin:6.2rem auto 2rem;padding:0 1rem}
    h1{font-size:1.4rem;margin:0}
    .controls{display:flex;gap:0.5rem;align-items:center}
    select, button{padding:0.5rem 0.7rem;border-radius:8px;border:1px solid #ddd}
    table{width:100%;border-collapse:collapse;margin-top:1rem;background:white;border-radius:8px;overflow:hidden}
    th,td{padding:0.75rem 0.9rem;border-bottom:1px solid #f0f0f0;text-align:left}
    thead th{background:#f7f7f7}
    .empty{padding:3rem;text-align:center;color:#666}

    /* small responsive adjustments */
    @media (max-width:640px){.nav-brand-logo{height:44px}.container{margin-top:5.2rem}}
  </style>
</head>
<body>
  <!-- Christmas lights (decorative) -->
  <div class="christmas-lights" aria-hidden="true">
    <div class="lights-string">
      <span class="light red" style="animation-delay:0s"></span>
      <span class="light green" style="animation-delay:0.12s"></span>
      <span class="light yellow" style="animation-delay:0.24s"></span>
      <span class="light blue" style="animation-delay:0.36s"></span>
      <span class="light purple" style="animation-delay:0.48s"></span>
      <span class="light orange" style="animation-delay:0.6s"></span>
      <span class="light teal" style="animation-delay:0.72s"></span>
      <span class="light red" style="animation-delay:0.84s"></span>
      <span class="light green" style="animation-delay:0.96s"></span>
      <span class="light yellow" style="animation-delay:1.08s"></span>
      <span class="light blue" style="animation-delay:1.2s"></span>
      <span class="light purple" style="animation-delay:1.32s"></span>
      <span class="light orange" style="animation-delay:1.44s"></span>
      <span class="light teal" style="animation-delay:1.56s"></span>
    </div>
  </div>

  <div class="navbar">
    <div class="nav-left">
      <a class="brand" href="/">
        <img src="/logo.jpg" alt="PetMall" class="nav-brand-logo" />
      </a>
    </div>
    <div class="nav-center">
      <button class="btn ghost menu-trigger">Animals ▾</button>
      <button class="btn ghost choose-nav">Choose</button>
    </div>
    <div class="nav-right">
      <button class="btn ghost">Login</button>
      <button class="btn primary">Sign Up</button>
    </div>
  </div>

  <div class="container">

    <main>
      <table id="resultsTable">
        <thead>
          <tr><th>Name</th><th>Type</th><th>Age</th></tr>
        </thead>
        <tbody id="resultsBody">
        </tbody>
      </table>

      <div id="empty" class="empty" style="display:none">No animals to show. You'll connect your database later.</div>
    </main>

    <p style="margin-top:1rem;color:#666">This page is a simple placeholder for sorting and choosing animals. You can connect your database later — the initial filter is passed via the <code>filter</code> query param.</p>
  </div>

  <script>
    // Static sample data — replace with real DB later
    const SAMPLE = [
      { name: 'Buddy', type: 'Dog', age: '1 yr' },
      { name: 'Lola', type: 'Dog', age: '3 yrs' },
      { name: 'Bella', type: 'Cat', age: '2 yrs' },
      { name: 'Milo', type: 'Cat', age: '1 yr' },
      { name: 'Star', type: 'Horse', age: '5 yrs' },
      { name: 'Simba', type: 'Lion', age: '4 yrs' },
      { name: 'Goldie', type: 'Fish', age: '6 mo' }
    ];

    function q(name){
      const params = new URLSearchParams(location.search);
      return params.get(name) || '';
    }

    const filterSelect = document.getElementById('filterSelect');
    const sortSelect = document.getElementById('sortSelect');
    const applyBtn = document.getElementById('applyBtn');
    const closeBtn = document.getElementById('closeBtn');
    const resultsBody = document.getElementById('resultsBody');
    const emptyDiv = document.getElementById('empty');

    // Initialize filter from query param
    const initialFilter = q('filter');
    if(initialFilter){
      filterSelect.value = initialFilter;
    }

    function render() {
      const filter = filterSelect.value;
      const sort = sortSelect.value;
      let list = SAMPLE.slice();
      if(filter) list = list.filter(i => i.type === filter);
      if(sort === 'name') list.sort((a,b)=> a.name.localeCompare(b.name));
      if(sort === 'age') list.sort((a,b)=> a.age.localeCompare(b.age));

      resultsBody.innerHTML = '';
      if(list.length === 0){
        document.getElementById('resultsTable').style.display = 'none';
        emptyDiv.style.display = 'block';
        return;
      }
      document.getElementById('resultsTable').style.display = '';
      emptyDiv.style.display = 'none';

      for(const r of list){
        const tr = document.createElement('tr');
        const td1 = document.createElement('td'); td1.textContent = r.name; tr.appendChild(td1);
        const td2 = document.createElement('td'); td2.textContent = r.type; tr.appendChild(td2);
        const td3 = document.createElement('td'); td3.textContent = r.age; tr.appendChild(td3);
        resultsBody.appendChild(tr);
      }
    }

    applyBtn.addEventListener('click', render);
    closeBtn.addEventListener('click', () => window.close());

    // initial render
    render();
  </script>
</body>
</html>
